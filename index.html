<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AFIASï½œç”¢å“ä»‹ç´¹</title>

    <style>
      :root{
        /* ===== Light Brand Mode ===== */
        --bg0:#f3f7ff;
        --bg1:#eaf2ff;
        --ink:#0f1c2e;
        --paper:#ffffff;
        --muted:#5b6b86;

        --brand:#ffc627;
        --brand2:#ffb300;

        --accent:#1e63d6;
        --accent2:#134bb0;

        --navDark: rgba(18,35,49,.92);

        --line:rgba(15,28,46,.12);
        --shadow:0 20px 60px rgba(15,28,46,.12);
        --shadow2:0 12px 30px rgba(15,28,46,.10);
        --glow:0 0 18px rgba(255,198,39,.22);

        --r12:12px;
        --r16:16px;
        --r22:22px;

        --max:1120px;
      }

      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0;
        font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial, "Noto Sans TC", "PingFang TC", sans-serif;
        color:var(--ink);
        background:
          radial-gradient(1200px 680px at 15% -10%, rgba(30,99,214,.12), rgba(243,247,255,0) 55%),
          radial-gradient(1000px 620px at 95% 10%, rgba(255,198,39,.16), rgba(243,247,255,0) 55%),
          linear-gradient(180deg, var(--bg0) 0%, var(--bg1) 60%, #f3f7ff 100%);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
      }

      .skip{
        position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
      }
      .skip:focus{left:16px; top:16px; width:auto; height:auto; padding:10px 12px; background:#fff; border-radius:10px; z-index:9999; color:#1a2b3d}

      .container{width:min(var(--max), calc(100% - 40px)); margin:0 auto;}

      /* ===== Topbar (æ·±è‰²ç¶­æŒ) ===== */
      .topbar{
        position:sticky; top:0; z-index:50;
        background: var(--navDark);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255,255,255,.12);
      }
      .topbar__inner{
        display:flex; align-items:center; justify-content:space-between;
        padding:10px 0;
        gap:16px;
        flex-wrap: wrap;
      }
/* ===== Topbar left group (ä»£ç†å•†logo + AFIASä¸»æ¨™) ===== */
.topbar__left{
  display:flex;
  align-items:center;
  gap:14px;
  min-width:0; /* é¿å…å°è¢å¹•æ“ çˆ† */
}

/* è®“ AFIAS ä¸»æ¨™æ–‡å­—è‡ªç„¶é å·¦ */
.brand{
  text-align:left;
}

      .brand{display:flex; align-items:center; gap:12px; color:#fff}
      .brand__mark{
        width:40px; height:40px; border-radius:14px;
        display:grid; place-items:center;
        background: linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);
        color:#1a2b3d; font-weight:1000; letter-spacing:.5px;
        box-shadow: var(--glow);
      }
      .brand__title{font-weight:1000; letter-spacing:.6px; font-size:16px; color:#fff}
      .brand__tag{opacity:.78; font-size:12px; color:rgba(255,255,255,.75)}

      .nav{display:flex; align-items:center; gap:10px}
      .nav__toggle{
        display:none;
        border:1px solid rgba(255,255,255,.18);
        background: rgba(255,255,255,.08);
        color:#fff;
        padding:10px 12px;
        border-radius: 12px;
        cursor:pointer;
        min-height:44px;
      }
      .nav__menu{display:flex; gap:10px}
      .nav__item{
        border:1px solid rgba(255,255,255,.18);
        background: rgba(255,255,255,.08);
        color:#fff;
        padding:10px 12px;
        border-radius: 999px;
        cursor:pointer;
        font-weight:850;
        letter-spacing:.2px;
        min-height:44px;
        transition: all .2s ease;
      }
      .nav__item:hover{background: rgba(255,255,255,.14); border-color: rgba(255,198,39,.4)}
      .nav__item.is-active{
        background: linear-gradient(135deg, rgba(255,198,39,.96), rgba(255,179,0,.96));
        color:#1a2b3d;
        border-color: transparent;
        box-shadow: var(--glow);
      }

      /* ===== Partner logos (Topbar) - ä¸ç”¨è† å›Š ===== */
      .partner{
        display:flex;
        align-items:center;
        gap:10px;
        margin-left:auto;
      }
      .logo-pill{
        display:flex;align-items:center;justify-content:center;
        padding:0;border-radius:0;background:transparent;border:0;box-shadow:none;
      }
      .logo-pill img{
        height:26px;width:auto;display:block;
        filter:drop-shadow(0 6px 14px rgba(0,0,0,.18));
      }
      @media (max-width: 720px){
        .partner{
          width:100%;
          justify-content:center;
          margin-left:0;
          padding-bottom:6px;
        }
      }

      /* ===== Hero ===== */
      .hero{
        position:relative;
        overflow:hidden;
        border-bottom: 1px solid var(--line);
      }

      /* âœ… Hero èƒŒæ™¯ï¼šæ”¹æˆã€Œæ¼¸å±¤ï¼‹åº•ç´‹ã€ï¼Œä¸å†ç”¨ A4 ä¸»è¦–è¦ºåœ– */
      .hero__bg{
        position:absolute; inset:0; z-index:0;
        background:
          /* ä¸»æ¼¸å±¤ï¼šå·¦äº®â†’å³æš—ï¼Œæ¥è¿‘ä½ æä¾›çš„ Boditech æˆªåœ–è³ªæ„Ÿ */
          linear-gradient(90deg,
            rgba(35, 96, 116, .92) 0%,
            rgba(35, 70, 92,  .92) 42%,
            rgba(28, 45, 60,  .92) 100%
          ),
          /* ä¸Šæ–¹æŸ”å…‰ */
          radial-gradient(900px 520px at 18% 22%,
            rgba(255,255,255,.10),
            rgba(255,255,255,0) 60%
          ),
          /* å³ä¸ŠåŠ æ·± */
          radial-gradient(700px 420px at 88% 18%,
            rgba(0,0,0,.22),
            rgba(0,0,0,0) 62%
          );
      }
      .hero__bg::before{
        content:"";
        position:absolute; inset:-2px;
        pointer-events:none;
        opacity:.22;
        /* åº•ç´‹ï¼šå¾®æ–œç·š + å¾®ç¶²æ ¼ï¼ˆä¸æ¶æˆ²ï¼‰ */
        background:
          repeating-linear-gradient(135deg,
            rgba(255,255,255,.10) 0px,
            rgba(255,255,255,.10) 1px,
            rgba(255,255,255,0) 1px,
            rgba(255,255,255,0) 14px
          ),
          repeating-linear-gradient(0deg,
            rgba(255,255,255,.06) 0px,
            rgba(255,255,255,.06) 1px,
            rgba(255,255,255,0) 1px,
            rgba(255,255,255,0) 22px
          );
        mix-blend-mode: overlay;
      }
      .hero__bg::after{
  content:"";
  position:absolute; inset:-40px;
  pointer-events:none;
  opacity:.24;
  /* å…­é‚Šå½¢åº•ç´‹ï¼ˆç·šæ¡†ï¼‰â€” ä»¥ SVG pattern ç”¢ç”Ÿï¼Œæ¥è¿‘å»£å‘Šç¨¿çš„ç¾ç·¨æ„Ÿ */
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20width%3D%27220%27%20height%3D%27190%27%20viewBox%3D%270%200%20220%20190%27%3E%0A%20%20%3Cg%20fill%3D%27none%27%20stroke%3D%27%23f5c33b%27%20stroke-opacity%3D%270.75%27%20stroke-width%3D%273%27%3E%0A%20%20%20%20%3Cpolygon%20points%3D%27110%2C8%20200%2C55%20200%2C135%20110%2C182%2020%2C135%2020%2C55%27/%3E%0A%20%20%3C/g%3E%0A%3C/svg%3E");
  background-size: 220px 190px;
  background-repeat: repeat;
  transform: rotate(-6deg);
  mix-blend-mode: overlay;
  /* è®“åº•ç´‹æ›´é›†ä¸­åœ¨å³å´ï¼Œä¸è“‹ä½å·¦å´æ–‡å­— */
  -webkit-mask-image: radial-gradient(900px 520px at 78% 34%, rgba(0,0,0,1) 0%, rgba(0,0,0,.85) 45%, rgba(0,0,0,0) 72%);
  mask-image: radial-gradient(900px 520px at 78% 34%, rgba(0,0,0,1) 0%, rgba(0,0,0,.85) 45%, rgba(0,0,0,0) 72%);
}

      .hero__content{
        position:relative; z-index:1;
        padding: 34px 0 26px;
        display:grid;
        grid-template-columns: 1.05fr .95fr;
        gap: 24px;
        align-items:stretch;
      }

      .hero__eyebrow{
        display:flex;
        align-items:center;
        gap:10px;
        margin-bottom:10px;
      }
      .hero__eyebrow .brandlogo{
        height:28px;
        width:auto;
        display:block;
        filter: drop-shadow(0 6px 14px rgba(0,0,0,.35));
      }

      .hero__title{
        margin:10px 0 8px;
        color:#fff;
        font-weight:1000;
        letter-spacing:.5px;
        font-size: clamp(34px, 4.2vw, 56px);
        line-height:1.05;
        text-shadow: 0 10px 24px rgba(0,0,0,.25);
        word-break: break-word;
      }
      .hero__desc{
        margin:0;
        color:rgba(255,255,255,.88);
        font-size: 16px;
        line-height:1.7;
        max-width: 52ch;
      }

      .hero__cta{display:flex; gap:12px; margin-top:16px; flex-wrap:wrap}

      .btn{
        border:1px solid rgba(255,255,255,.18);
        background: rgba(255,255,255,.10);
        color:#fff;
        padding:12px 14px;
        border-radius: 14px;
        cursor:pointer;
        font-weight:900;
        letter-spacing:.2px;
        transition: transform .10s ease, background .15s ease, border-color .15s ease;
        min-height:44px;
      }
      .btn:active{transform: translateY(1px)}
      .btn--primary{
        background: linear-gradient(135deg, rgba(255,198,39,.98), rgba(255,179,0,.98));
        color:#1a2b3d;
        border-color: transparent;
        box-shadow: var(--glow);
      }
      .btn--primary:hover{
        background: linear-gradient(135deg, rgba(255,208,59,.98), rgba(255,189,20,.98));
      }
      .btn--ghost:hover{background: rgba(255,255,255,.16); border-color: rgba(255,198,39,.4)}
      .btn--small{padding:10px 12px; border-radius: 12px; font-size:13px}

      /* âœ… ç”¢å“ç‰¹è‰²ä¸‰å¡Šï¼šè¶…é€£çµæŒ‰éˆ•æ”¹æˆä¸€è‡´çš„è—è‰²ç³» */
      .btn--link{
        background: rgba(30,99,214,.10);
        border: 1px solid rgba(30,99,214,.22);
        color: #1e63d6;
      }
      .btn--link:hover{
        background: rgba(30,99,214,.14);
        border-color: rgba(30,99,214,.32);
      }

      .hero__badges{
        display:grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 12px;
        margin-top: 16px;
      }
      .badge{
        background: rgba(255,255,255,.10);
        border:1px solid rgba(255,255,255,.16);
        border-radius: var(--r16);
        padding: 12px;
        box-shadow: var(--shadow2);
        backdrop-filter: blur(8px);
      }
      .badge__kicker{color:rgba(255,255,255,.85); font-size:12px; font-weight:1000; letter-spacing:.3px}
      .badge__text{color:#fff; font-weight:1000; margin-top:6px; font-size:14px}

      /* Right side visuals */
      .hero__right{
        position:relative;
        border-radius: var(--r22);
        border:1px solid rgba(255,255,255,.16);
        background: rgba(255,255,255,.10);
        box-shadow: var(--shadow), inset 0 1px 0 rgba(255,198,39,.08);
        padding: 16px;
        overflow:hidden;
        backdrop-filter: blur(10px);
      }

      .hexgrid{
        position:absolute; inset:-30px -30px auto auto;
        width:340px; height:260px;
        opacity:.18;
        pointer-events:none;
      }
      .hex{
        position:absolute;
        width:120px; height:104px;
        clip-path: polygon(25% 6.7%, 75% 6.7%, 100% 50%, 75% 93.3%, 25% 93.3%, 0% 50%);
        border: 2px solid rgba(255,255,255,.18);
        background: linear-gradient(135deg, rgba(255,198,39,.10), rgba(255,255,255,.06));
      }
      .hex--a{right:20px; top:10px}
      .hex--b{right:90px; top:78px}
      .hex--c{right:10px; top:126px}
      .hex--d{right:160px; top:18px}
      .hex--e{right:160px; top:146px}

      .models{
        position:relative;
        display:grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 12px;
        margin-top: 10px;
      }
      .modelcard{
        text-align:left;
        padding: 14px;
        border-radius: var(--r16);
        border:1px solid rgba(255,255,255,.16);
        background: rgba(0,0,0,.14);
        color:#fff;
        cursor:pointer;
        min-height:44px;
        transition: all .2s ease;
      }
      .modelcard:hover{
        background: rgba(0,0,0,.22);
        border-color: rgba(255,198,39,.5);
        transform: translateY(-2px);
        box-shadow: var(--shadow2);
      }
      .modelcard__name{font-weight:1000; letter-spacing:.4px; color:#fff}
      .modelcard__dim{opacity:.82; margin-top:6px; font-weight:800; font-size:12px}
      .modelcard__hint{margin-top:10px; font-size:12px; color: rgba(255,255,255,.82); font-weight:1000}
      .modelcard__img{
        width:100%;
        height:110px;
        object-fit:contain;
        border-radius: 12px;
        background: rgba(255,255,255,.08);
        border: 1px solid rgba(255,255,255,.14);
        margin-bottom: 10px;
      }

      /* Alert */
      .alert{
        margin: 14px 0 0;
        display:flex; align-items:center; gap:12px;
        padding: 12px 14px;
        border-radius: 16px;
        background: rgba(255,198,39,.15);
        border: 1px solid rgba(255,198,39,.35);
        color:var(--ink);
      }
      .alert.is-hidden{display:none}
      .alert__icon{
        width:28px; height:28px; border-radius:10px;
        display:grid; place-items:center;
        background: var(--brand);
        color:#1a2b3d;
        font-weight:1000;
      }
      .alert__text{font-weight:900}
      .alert__close{
        margin-left:auto;
        border:0;
        background: transparent;
        color:var(--ink);
        font-size:16px;
        cursor:pointer;
        opacity:.75;
      }
      .alert__close:hover{opacity:1}

      /* Tabs / Sections */
      .tabs{padding: 22px 0 44px}
      .tab{display:none}
      .tab.is-active{display:block}

      .sectionhead{margin: 14px 0 14px}
      .sectionhead__title{
        margin:0;
        color:var(--ink);
        font-weight:1000;
        letter-spacing:.4px;
        font-size: 24px;
        word-break: break-word;
      }
      .sectionhead__desc{
        margin:10px 0 0;
        color: rgba(15,28,46,.72);
        line-height:1.7;
        max-width: 74ch;
        font-weight:750;
      }

      /* Feature / Card surfaces */
      .featuregrid{
        display:grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 14px;
        margin-top: 14px;
      }
      .feature, .card, .contactcard, .toolbar, .tablewrap, .flowwrap{
        border-radius: var(--r22);
        background: rgba(255,255,255,.86);
        border:1px solid var(--line);
        box-shadow: var(--shadow2);
        padding: 16px;
        position:relative;
        overflow:hidden;
      }

      .contactcard__logo{
        margin-top:10px;
        display:flex;
        align-items:center;
      }
      .contactcard__logo img{
        height:26px;
        width:auto;
        opacity:.95;
      }


      .feature:before{
        content:"";
        position:absolute; inset:-60px -60px auto auto;
        width:200px; height:170px;
        clip-path: polygon(25% 6.7%, 75% 6.7%, 100% 50%, 75% 93.3%, 25% 93.3%, 0% 50%);
        background: linear-gradient(135deg, rgba(255,198,39,.12), rgba(30,99,214,.08));
        transform: rotate(8deg);
      }
      .feature__icon{font-size:26px; position:relative}
      .feature__title{margin:10px 0 10px; font-weight:1000; color:#23455c}
      .feature__list{margin:0; padding-left: 18px; color:rgba(15,28,46,.82); line-height:1.7; font-weight:750}
      .feature__btn{margin-top:12px}

      .contactcard{
        margin-top: 16px;
        display:flex;
        justify-content:space-between;
        gap: 16px;
        align-items:center;
      }
      .contactcard__title{margin:0; color:var(--ink); font-weight:1000}
      .contactcard__desc{margin:8px 0 0; color:rgba(15,28,46,.70); line-height:1.6; font-weight:750}

      .pill{
        border:1px solid rgba(35,69,92,.22);
        background: rgba(35,69,92,.06);
        color:#23455c;
        padding: 10px 12px;
        border-radius: 999px;
        cursor:pointer;
        font-weight:900;
        margin: 6px 6px 0 0;
        min-height:44px;
        transition: all .2s ease;
      }
      .pill:hover{background: rgba(35,69,92,.10); border-color: rgba(35,69,92,.35)}

      /* Toolbar */
      .toolbar__row{display:flex; gap:12px; align-items:end; flex-wrap:wrap}
      .field{display:flex; flex-direction:column; gap:6px}
      .field__label{color:rgba(15,28,46,.70); font-weight:1000; font-size:12px}
      .field__input{
        width: 280px;
        padding: 10px 12px;
        border-radius: 14px;
        border:1px solid rgba(15,28,46,.16);
        background: rgba(255,255,255,.95);
        color:var(--ink);
        outline:none;
        font-weight:900;
      }
      .field__input:focus{border-color: rgba(35,69,92,.45); box-shadow: 0 0 0 3px rgba(35,69,92,.10)}
      .field__input::placeholder{color:rgba(15,28,46,.42)}
      .check{display:flex; align-items:center; gap:8px; color:rgba(15,28,46,.72); font-weight:900}
      .toolbar__meta{margin-top:10px; color:rgba(15,28,46,.70); font-weight:900}

      /* Table */
      .tablewrap{
        margin-top: 12px;
        overflow:hidden;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      .table{width:100%; border-collapse:collapse; min-width:720px;}
      .table thead th{
        text-align:left;
        padding: 12px;
        background:#23455c;
        color:#ffffff;
        font-weight:1000;
        letter-spacing:.2px;
        font-size:13px;
      }
      .table tbody td{
        padding: 12px;
        border-top: 1px solid rgba(15,28,46,.06);
        vertical-align:top;
        font-weight:800;
        color:rgba(15,28,46,.92);
        background: rgba(255,255,255,.92);
      }

      .chip{
        display:inline-flex; align-items:center;
        padding: 6px 10px;
        border-radius: 999px;
        font-size:12px;
        font-weight:1000;
        background: rgba(30,99,214,.08);
        color:#23455c;
        border:1px solid rgba(30,99,214,.18);
        margin-left:8px;
      }

      .footnotes{
        margin-top: 10px;
        color: rgba(15,28,46,.62);
        line-height:1.6;
        font-weight:850;
        font-size:12px;
      }

      /* Cards */
      .cards{
        display:grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 14px;
        margin-top: 14px;
      }
      .card__title{margin:0; font-weight:1000; color:#23455c}
      .card__desc{margin:10px 0 12px; color:rgba(15,28,46,.82); line-height:1.7; font-weight:750}

      /* Callout (AFIAS TDM è§£æ±ºæ–¹æ¡ˆ) */
      .callout{
        margin-top: 14px;
        border-radius: var(--r22);
        border:1px solid rgba(35,69,92,.22);
        background: rgba(255,255,255,.86);
        padding: 14px;
        display:flex;
        gap:12px;
        align-items:flex-start;
        color:var(--ink);
      }
      .callout__badge{
        flex:0 0 auto;
        padding: 6px 10px;
        border-radius: 999px;
        font-weight:1000;
        color:#1a2b3d;
        background: linear-gradient(135deg, rgba(255,198,39,.98), rgba(255,179,0,.98));
        box-shadow: var(--glow);
      }
      .callout__text{font-weight:850; line-height:1.7; opacity:.95}

      /* Modal */
      .modal{position:fixed; inset:0; z-index:100; display:grid; place-items:center}
      .modal.is-hidden{display:none}
      .modal__backdrop{position:absolute; inset:0; background: rgba(0,0,0,.50)}
      .modal__panel{
        position:relative;
        width: min(1200px, calc(100% - 24px));
        border-radius: 22px;
        background: #ffffff;
        box-shadow: var(--shadow);
        overflow:hidden;
        border:1px solid rgba(15,28,46,.12);
        display:flex;
        flex-direction:column;
        max-height: calc(100vh - 24px);
      }
@media (min-width: 1024px){
  .modal__panel{ width: min(1320px, calc(100% - 80px)); }
}
      .modal__head{
        padding:14px 16px;
        background:#23455c;
        color:#ffffff;
        display:flex; align-items:center; justify-content:space-between; gap:12px;
      }
      .modal__title{margin:0; font-weight:1000}
      .modal__close{
        border:0;
        background:rgba(255,255,255,.18);
        color:#ffffff;
        cursor:pointer;
        width:44px; height:44px; border-radius: 14px;
        display:grid; place-items:center;
        min-height:44px;
      }
      .modal__close:hover{background:rgba(255,255,255,.26)}
      .modal__body{padding: 16px; color:rgba(15,28,46,.92); line-height:1.75; font-weight:750; flex:1; overflow:auto}
      .modal__foot{padding: 14px 16px; border-top: 1px solid rgba(15,28,46,.08); display:flex; justify-content:flex-end; gap:10px}

      .poster{
        width:100%;
        border-radius: 16px;
        border:1px solid rgba(15,28,46,.12);
        overflow:hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,.12);
        background:#fff;
      }
      .poster img{width:100%; height:auto; display:block}

      /* TDM images inside modal */
      .tdmimg{
        width:100%;
        height:auto;
        display:block;
        border-radius: 16px;
        border:1px solid rgba(15,28,46,.12);
        box-shadow: 0 10px 26px rgba(0,0,0,.12);
        background:#fff;
  max-height: 78vh;
  object-fit: contain;
      }
      .tdmgrid{
        display:grid;
        grid-template-columns: 1fr;
        gap: 12px;
      }

      /* ===== TDM modal responsive reading ===== */
      .keypoints{
        margin: 0;
        padding-left: 18px;
      }
      .keypoints li{
        margin: 8px 0;
      }
      .keypoints b{ color: var(--brand2); }
      .tdmimg{
        max-height: 72vh;
        object-fit: contain;
      }
      @media (min-width: 900px){
        .tdmgrid{ grid-template-columns: 1fr 1fr; }
        .tdmimg{ max-height: 64vh; }
      }

      /* Reference box */
      .refbox{
        margin-top: 12px;
        border-radius: 16px;
        border:1px solid rgba(35,69,92,.18);
        background: rgba(35,69,92,.06);
        padding: 12px;
      }
      .refbox__title{
        margin:0 0 6px;
        font-weight:1000;
        font-size:12px;
        letter-spacing:.2px;
        color: #23455c;
      }
      .refbox ol{margin:0; padding-left: 18px}
      .refbox li{
        margin: 6px 0;
        font-size:12px;
        line-height:1.55;
        color: rgba(15,28,46,.72);
        font-weight:750;
      }

      /* Toast */
      .toast{
        position: fixed;
        right: 14px;
        bottom: 14px;
        background: rgba(255,198,39,.95);
        color:#1a2b3d;
        padding: 12px 14px;
        border-radius: 16px;
        border:1px solid rgba(255,179,0,.4);
        box-shadow: var(--shadow2), var(--glow);
        opacity:0;
        transform: translateY(8px);
        transition: opacity .18s ease, transform .18s ease;
        z-index: 120;
        max-width: min(420px, calc(100% - 28px));
        font-weight:1000;
      }
      .toast.is-on{opacity:1; transform: translateY(0)}

      /* âœ… ç¢ºä¿ TDM å¡ç‰‡åº•éƒ¨æŒ‰éˆ•ä¸€å®šå¯è¦‹ */
      .tdm-cards .pill,
      #tab-tdm .pill{
        background: rgba(35,69,92,.08);
        border: 1px solid rgba(35,69,92,.28);
        color: #23455c;
      }
      .tdm-cards .pill:hover,
      #tab-tdm .pill:hover{
        background: rgba(35,69,92,.14);
        border-color: rgba(35,69,92,.40);
      }
      .tdm-cards .pill:active,
      #tab-tdm .pill:active{ transform: translateY(1px); }

      /* âœ… æ“ä½œæµç¨‹å€å¡Šï¼ˆOverview å…§æ–°å¢ï¼‰ */
      .flowgrid{
        display:grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 14px;
        margin-top: 12px;
      }
      .flowitem{
        border-radius: var(--r22);
        background: rgba(255,255,255,.86);
        border:1px solid var(--line);
        box-shadow: var(--shadow2);
        padding: 16px;
      }
      .flowitem h4{
        margin:0 0 10px;
        font-weight:1000;
        color:#23455c;
        letter-spacing:.2px;
      }
      .flowitem p{
        margin:0 0 12px;
        color:rgba(15,28,46,.80);
        font-weight:750;
        line-height:1.7;
      }
      .flowitem .btn{color:#fff}
      .flowitem .btn--primary{color:#1a2b3d}


      /* ===== Hero collapsible (mobile friendly) ===== */
      .hero__more, .hero__modelsPanel{ margin-top: 14px; }
      .hero__moreSummary{
        list-style:none;
        cursor:pointer;
        user-select:none;
        padding: 12px 14px;
        border-radius: 16px;
        background: rgba(255,255,255,.12);
        border: 1px solid rgba(255,255,255,.18);
        color:#fff;
        font-weight:1000;
        letter-spacing:.2px;
        min-height:44px;
        display:flex;
        align-items:center;
        gap:10px;
      }
      .hero__moreSummary::-webkit-details-marker{display:none}
      .hero__moreSummary::after{
        content:"â–¾";
        margin-left:auto;
        opacity:.9;
      }
      details[open] > .hero__moreSummary::after{content:"â–´";}
      /* Desktop: ä¿æŒå±•é–‹ã€éš±è— summaryï¼ˆé¿å…å¤šä¸€è¡Œï¼‰ */
      @media (min-width: 721px){
        .hero__moreSummary{display:none}
        .hero__more, .hero__modelsPanel{margin-top:16px}
      }

      /* Responsive */
      @media (max-width: 980px){
        .hero__content{grid-template-columns: 1fr}
        .hero__badges{grid-template-columns: 1fr}
        .featuregrid{grid-template-columns: 1fr}
        .cards{grid-template-columns: 1fr}
        .models{grid-template-columns: 1fr 1fr}
        .flowgrid{grid-template-columns: 1fr}
      }

      @media (max-width: 720px){
        .nav__toggle{display:inline-flex}
        .nav__menu{
          display:none;
          position:absolute;
          right: 20px;
          top: 56px;
          background: rgba(18,35,49,.96);
          border:1px solid rgba(255,255,255,.18);
          border-radius: 16px;
          padding: 10px;
          flex-direction:column;
          gap:10px;
          box-shadow: var(--shadow);
        }
        .nav__menu.is-open{display:flex}
        .field__input{width: 100%}
        .models{grid-template-columns: 1fr}
        .container{ width: min(var(--max), calc(100% - 28px)); }
        .hero__content{ padding: 22px 0 18px; }
        .hero__desc{ font-size: 15px; }
        .hero__cta{ gap: 10px; }
        .btn{ width: 100%; justify-content:center; }
        .modelcard{ padding: 12px; }
        .contactcard{ flex-direction:column; align-items:stretch; }
        .contactcard__right{ display:flex; flex-wrap:wrap; }
        .modal__panel{ width: calc(100% - 16px); }
      }
    </style>
  </head>

  <body>
    <a class="skip" href="#main">è·³åˆ°ä¸»è¦å…§å®¹</a>

    <header class="topbar">
      <div class="container topbar__inner">
  <div class="topbar__left">
        <div class="partner" aria-label="åŸå» èˆ‡ä»£ç†å•†">
          <span class="logo-pill" title="MedRichï¼ˆä»£ç†å•†ï¼‰">
            <img src="logo_mr_white.png" alt="MedRich logo" loading="lazy" />
          </span>
        </div>

        <div class="brand">
<div class="brand__text">
            <div class="brand__title">AFIAS</div>
            <div class="brand__tag">Simple , Fast , Accurate</div>
          </div>
        </div>
 </div>
        <nav class="nav" aria-label="ä¸»é¸å–®">
          <button class="nav__toggle" id="navToggle" aria-expanded="false" aria-controls="navMenu">
            é¸å–®
          </button>
          <div class="nav__menu" id="navMenu">
            <button class="nav__item is-active" data-tab="overview">ç”¢å“ç¸½è¦½</button>
            <button class="nav__item" data-tab="menu">Test Menu</button>
            <button class="nav__item" data-tab="tdm">TDM è‡¨åºŠæ‡‰ç”¨</button>
          </div>
        </nav>
</div>
    </header>

    <main id="main">
      <!-- HERO -->
      <section class="hero" aria-label="AFIAS ç”¢å“ä¸»è¦–è¦º">
        <div class="hero__bg" aria-hidden="true"></div>

        <div class="container hero__content">
          <div class="hero__left">
            <div class="hero__eyebrow" aria-label="Boditech logo">
              <img class="brandlogo" src="logo_boditech_transparent.png" alt="Boditech BIO TECHNOLOGY" loading="lazy" />
            </div>

            <h1 class="hero__title">è¤‡é›œæª¢æ¸¬<br />è¼•é¬†æå®š</h1>
            <p class="hero__desc">
              ä¸€æ©Ÿå¤šæª¢ï¼Œ5~15åˆ†é˜å¿«é€Ÿå®Œæˆå ±å‘Šï¼›æ”¯æ´å…¨è¡€ã€æŒ‡å°–è¡€èˆ‡éœè„ˆè¡€æª¢æ¸¬ï¼Œæ»¿è¶³ä¸åŒè‡¨åºŠå ´æ™¯ã€‚
            </p>

            <div class="hero__cta">
              <button class="btn btn--primary" id="btnQuickMenu">å¿«é€ŸæŸ¥ Test Menu</button>
              <button class="btn btn--ghost" id="btnOpenPoster">çœ‹ A4 ä¸»è¦–è¦º</button>
            </div>
</div>

          <details class="hero__modelsPanel" open aria-label="æ©Ÿå‹å±•ç¤ºï¼ˆå¯å±•é–‹ï¼‰">
            <summary class="hero__moreSummary">æŸ¥çœ‹æ©Ÿå‹èˆ‡åŸºæœ¬è¦æ ¼</summary>
            <div class="hexgrid" aria-hidden="true">
              <div class="hex hex--a"></div>
              <div class="hex hex--b"></div>
              <div class="hex hex--c"></div>
              <div class="hex hex--d"></div>
              <div class="hex hex--e"></div>
            </div>

            <div class="models" role="list">
              <button class="modelcard" role="listitem" data-model="AFIAS 1" data-dim="180.6 Ã— 320.6 Ã— 206.4 (mm)">
                <img class="modelcard__img" src="afias1.png" alt="AFIAS 1 å„€å™¨å¤–è§€" loading="lazy" />
                <div class="modelcard__name">AFIAS 1</div>
                <div class="modelcard__dim">180.6 Ã— 320.6 Ã— 206.4 (mm)</div>
                <div class="modelcard__hint">åŸºæœ¬è¦æ ¼</div>
              </button>

              <button class="modelcard" role="listitem" data-model="AFIAS 3" data-dim="276 Ã— 365 Ã— 313 (mm)">
                <img class="modelcard__img" src="afias3.png" alt="AFIAS 3 å„€å™¨å¤–è§€" loading="lazy" />
                <div class="modelcard__name">AFIAS 3</div>
                <div class="modelcard__dim">276 Ã— 365 Ã— 313 (mm)</div>
                <div class="modelcard__hint">åŸºæœ¬è¦æ ¼</div>
              </button>

              <button class="modelcard" role="listitem" data-model="AFIAS 6" data-dim="420 Ã— 336 Ã— 293 (mm)">
                <img class="modelcard__img" src="afias6.png" alt="AFIAS 6 å„€å™¨å¤–è§€" loading="lazy" />
                <div class="modelcard__name">AFIAS 6</div>
                <div class="modelcard__dim">420 Ã— 336 Ã— 293 (mm)</div>
                <div class="modelcard__hint">åŸºæœ¬è¦æ ¼</div>
              </button>

              <button class="modelcard" role="listitem" data-model="AFIAS 10" data-dim="426 Ã— 443 Ã— 395 (mm)">
                <img class="modelcard__img" src="afias10.png" alt="AFIAS 10 å„€å™¨å¤–è§€" loading="lazy" />
                <div class="modelcard__name">AFIAS 10</div>
                <div class="modelcard__dim">426 Ã— 443 Ã— 395 (mm)</div>
                <div class="modelcard__hint">åŸºæœ¬è¦æ ¼</div>
              </button>
          </div>
          </details>
        </div>
      </section>

      <!-- ERROR BAR -->
      <section class="container">
        <div class="alert is-hidden" id="alertBar" role="status" aria-live="polite">
          <div class="alert__icon" aria-hidden="true">!</div>
          <div class="alert__text" id="alertText">æç¤ºè¨Šæ¯</div>
          <button class="alert__close" id="alertClose" aria-label="é—œé–‰æç¤º">âœ•</button>
        </div>
      </section>

      <!-- TABS -->
      <section class="container tabs">
        <!-- OVERVIEW -->
        <section class="tab is-active" id="tab-overview" data-tabpanel="overview">
          <div class="sectionhead">
            <h2 class="sectionhead__title">ç”¢å“ç‰¹è‰²</h2>
          </div>

          <div class="featuregrid">
            <article class="feature">
              <div class="feature__icon" aria-hidden="true">ğŸ“‹</div>
              <h3 class="feature__title">å®Œæ•´çš„æª¢é©—é …ç›®</h3>
              <ul class="feature__list">
                <li>ä¸€æ©Ÿå¤šæª¢ï¼Œ5~15åˆ†é˜å¿«é€Ÿå®Œæˆå ±å‘Š</li>
                <li>æ”¯æ´å…¨è¡€ã€æŒ‡å°–è¡€èˆ‡éœè„ˆè¡€æª¢æ¸¬ï¼Œæ»¿è¶³ä¸åŒè‡¨åºŠå ´æ™¯</li>
              </ul>
              <!-- âœ… çœ‹æª¢é©—é …ç›®ï¼šæ”¹æˆæ²åˆ°ã€Œæ“ä½œæµç¨‹ã€å€å¡Š -->
              <button class="btn btn--small btn--link feature__btn" id="btnToFlow">çœ‹æª¢é©—é …ç›®</button>
            </article>

            <article class="feature">
              <div class="feature__icon" aria-hidden="true">ğŸ…</div>
              <h3 class="feature__title">é«˜å“è³ªæª¢é©—å ±å‘Š</h3>
              <ul class="feature__list">
                <li>é«˜éˆæ•è¢å…‰åˆ†ææŠ€è¡“ï¼Œæå‡å ±å‘Šå“è³ª</li>
                <li>å…§å»ºå“ç®¡ç³»çµ±</li>
                <li>5~15åˆ†é˜å®Œæˆå ±å‘Šåˆ†æ</li>
              </ul>
              <!-- âœ… çœ‹æ“ä½œæµç¨‹ï¼šç›´æ¥è·³å‡º YouTube -->
              <button class="btn btn--small btn--link feature__btn" id="btnOpenWorkflowVideo">çœ‹æ“ä½œæµç¨‹</button>
            </article>

            <article class="feature">
              <div class="feature__icon" aria-hidden="true">âš™ï¸</div>
              <h3 class="feature__title">ç°¡æ˜“ä¸”ä¾¿åˆ©çš„æ“ä½œ</h3>
              <ul class="feature__list">
                <li>All-in-One Cartridgeï¼Œéš¨é–‹å³ç”¨è©¦åŠ‘ï¼Œç©©å®šæ˜“ä¿å­˜</li>
                <li>ç¨å®¶ C-tipâ„¢ æŠ€è¡“ï¼Œè¼•é¬†æ¡é›†æŒ‡å°–è¡€</li>
              </ul>
              <!-- âœ… C-Tipæ“ä½œæµç¨‹ï¼šç›´æ¥è·³å‡º YouTube -->
              <button class="btn btn--small btn--link feature__btn" id="btnOpenCTipVideo">C-Tipæ“ä½œæµç¨‹</button>
            </article>
          </div>
          <div class="contactcard">
            <div class="contactcard__left">
              <h3 class="contactcard__title">å¿«é€Ÿè¯ç¹«</h3>
              <div class="contactcard__logo" aria-label="ä»£ç†å•†">
                <img src="logo_mr_transparent.png" alt="MedRich logo" loading="lazy" />
              </div>
              <p class="contactcard__desc">é»ä¸€ä¸‹å³å¯è¤‡è£½é›»è©±ï¼Œæ–¹ä¾¿ç¾å ´ç•™ä¸‹è¯çµ¡æ–¹å¼ã€‚</p>
            </div>
            <div class="contactcard__right">
              <button class="pill" data-copy="02-2357-0091">å°åŒ—ï½œ02-2357-0091</button>
              <button class="pill" data-copy="04-2275-7119">å°ä¸­ï½œ04-2275-7119</button>
              <button class="pill" data-copy="07-581-0536">é«˜é›„ï½œ07-581-0536</button>
            </div>
          </div>
        </section>

        <!-- TEST MENU -->
        <section class="tab" id="tab-menu" data-tabpanel="menu">
          <div class="sectionhead">
            <h2 class="sectionhead__title">AFIAS Test Menu</h2>
            <p class="sectionhead__desc">W: whole blood, S: serum, P: plasma, C: C-tip</p>
            <p class="sectionhead__desc">** åƒ…é©ç”¨ AFIAS 1/6ã€€ã€€*** åƒ…é©ç”¨ AFIAS 3/6/10</p>
          </div>

          <div class="toolbar" role="region" aria-label="Test Menu å·¥å…·åˆ—">
            <div class="toolbar__row">
              <label class="field">
                <span class="field__label">æœå°‹</span>
                <input id="q" class="field__input" placeholder="ä¾‹å¦‚ï¼šPCTã€NT-proBNPã€Carba 5â€¦" autocomplete="off" />
              </label>

              <label class="field">
                <span class="field__label">åˆ†é¡</span>
                <select id="cat" class="field__input">
                  <option value="all">å…¨éƒ¨</option>
                </select>
              </label>

              <label class="check">
                <input type="checkbox" id="onlyCtip" />
                <span>ç¯©é¸ C-tip</span>
              </label>

              <button class="btn btn--primary" id="btnReset">é‡è¨­</button>
            </div>

            <div class="toolbar__meta" id="resultMeta">è¼‰å…¥ä¸­â€¦</div>
          </div>

          <div class="tablewrap">
            <table class="table" aria-label="AFIAS Test Menu æ¸…å–®">
              <thead>
                <tr>
                  <th>åˆ†é¡</th>
                  <th>æª¢é©—é …ç›®</th>
                  <th>ç”¢å“ç·¨è™Ÿ</th>
                  <th>æª¢é«”åˆ¥</th>
                  <th>åˆ†ææ™‚é–“</th>
                </tr>
              </thead>
              <tbody id="tbody"></tbody>
            </table>
          </div>

          <div class="footnotes">
            <div class="footnotes__item">* W: Whole Blood, S: Serum, P: Plasma, C: C-tip</div>
            <div class="footnotes__item">** åƒ…é©ç”¨ AFIAS 1/6ã€€ã€€*** åƒ…é©ç”¨ AFIAS 3/6/10</div>
          </div>
        </section>

        <!-- TDM -->
        <section class="tab" id="tab-tdm" data-tabpanel="tdm">
          <div class="sectionhead">
            <h2 class="sectionhead__title">TDMï½œç”Ÿç‰©è£½åŠ‘æ²»ç™‚ç›£æ§ï¼ˆTherapeutic Drug Monitoringï¼‰</h2>
            <p class="sectionhead__desc">
              22åˆ†é˜å…§å–å¾—ã€Œè—¥ç‰©æ¿ƒåº¦ï¼ˆTrough levelsï¼‰ã€èˆ‡ã€ŒæŠ—è—¥æŠ—é«”ï¼ˆADAï¼‰ã€çš„å®¢è§€æ•¸æ“šï¼Œå”åŠ©è‡¨åºŠè©•ä¼°ç™‚æ•ˆï¼Œç¢ºä¿ç”¨è—¥æœ‰æ•ˆæ€§èˆ‡å®‰å…¨æ€§ï¼Œä¸¦æ”¯æŒå€‹äººåŒ–æ²»ç™‚ç­–ç•¥ã€‚
            </p>
          </div>

          <div class="cards tdm-cards">
            <article class="card">
              <h3 class="card__title">ç‚ºä»€éº¼è¦åš TDMï¼Ÿ</h3>
              <p class="card__desc">
                ç•¶ç™‚æ•ˆä¸å¦‚é æœŸï¼Œæˆ–éœ€è¦ç¶­æŒç©©å®šæ²»ç™‚åæ‡‰æ™‚ï¼ŒTDMå¯æä¾›è—¥ç‰©æ¿ƒåº¦èˆ‡æŠ—è—¥æŠ—é«”è³‡è¨Šï¼Œé æ¸¬è‡¨åºŠåæ‡‰ï¼Œä¸¦ä»¥æ­¤è©•ä¼°åˆé©çš„å€‹äººåŒ–æ²»ç™‚æ–¹æ¡ˆã€‚
              </p>
              <button class="pill" data-modal="tdm-why">æŸ¥çœ‹é‡é»</button>
            </article>

            <article class="card">
              <h3 class="card__title">ä½•æ™‚åŸ·è¡Œ TDM</h3>
              <p class="card__desc">
                èª˜å°æœŸèˆ‡ç¶­æŒæœŸä¸»å‹•ç›£æ¸¬è—¥ç‰©æ¿ƒåº¦ï¼Œä»¥é æ¸¬èˆ‡ç¶­æŒç™‚æ•ˆã€‚é‡åˆ°æ²»ç™‚å¤±æ•—æˆ–å¤±å»åæ‡‰æ™‚ï¼Œåƒè€ƒTDMé€²è¡Œç­–ç•¥èª¿æ•´ã€‚
              </p>
              <button class="pill" data-modal="tdm-when">æŸ¥çœ‹å»ºè­°æ™‚æ©Ÿ</button>
            </article>

            <article class="card">
              <h3 class="card__title">åƒè€ƒ TDM èª¿æ•´æ²»ç™‚ç­–ç•¥</h3>
              <p class="card__desc">
                ä¾ã€Œç—‡ç‹€æ˜¯å¦æ”¹å–„ Ã— é«”å…§è—¥ç‰©æ¿ƒåº¦ Ã— æŠ—è—¥æŠ—é«”ç‹€æ…‹ã€å”åŠ©è‡¨åºŠæ±ºç­–ã€‚
              </p>
              <button class="pill" data-modal="tdm-strategy">æŸ¥çœ‹TDMæ±ºç­–åœ–</button>
            </article>
          </div>

          <div class="callout" role="region" aria-label="AFIAS TDM è§£æ±ºæ–¹æ¡ˆ">
            <div class="callout__badge">AFIAS</div>
            <div class="callout__text">
              <div style="font-weight:1000; margin-bottom:8px;">AFIAS TDM è§£æ±ºæ–¹æ¡ˆ</div>
              <div style="font-weight:900;">Comprehensive TDM tests in 22 minutes</div>
              <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
                <button class="btn btn--primary" id="btnJumpTdmItems2">æŸ¥çœ‹ TDM é …ç›®</button>
              </div>
            </div>
          </div>
        </section>
      </section>
    </main>

    <!-- MODAL -->
    <div class="modal is-hidden" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal__backdrop" data-close="1"></div>
      <div class="modal__panel" role="document">
        <div class="modal__head">
          <h3 class="modal__title" id="modalTitle">æ¨™é¡Œ</h3>
          <button class="modal__close" aria-label="é—œé–‰" data-close="1">âœ•</button>
        </div>
        <div class="modal__body" id="modalBody"></div>
      </div>
    </div>

    <!-- TOAST -->
    <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>

    <script>
      // ========= Utilities =========
      const $ = (sel, root=document) => root.querySelector(sel);
      const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

      function showToast(msg){
        const t = $("#toast");
        t.textContent = msg;
        t.classList.add("is-on");
        window.clearTimeout(showToast._tm);
        showToast._tm = window.setTimeout(() => t.classList.remove("is-on"), 2200);
      }

      function showAlert(msg){
        $("#alertText").textContent = msg;
        $("#alertBar").classList.remove("is-hidden");
      }
      function hideAlert(){
        $("#alertBar").classList.add("is-hidden");
      }

      function openModal(title, html){
        $("#modalTitle").textContent = title;
        $("#modalBody").innerHTML = html;
        $("#modal").classList.remove("is-hidden");

        // âœ… é–ä½èƒŒæ™¯æ²å‹•ï¼ˆæ‰‹æ©Ÿæ›´å¥½æ“ä½œï¼‰
        document.body.style.overflow = "hidden";

        // âœ… è‡ªå‹•èšç„¦é—œé–‰éµï¼Œè®“ä½¿ç”¨è€…æ›´å®¹æ˜“é—œé–‰ï¼ˆå«éµç›¤/è®€å±ï¼‰
        const closeBtn = $("#modal").querySelector("[data-close='1']");
        if(closeBtn) closeBtn.focus({preventScroll:true});
      }

      function closeModal(){
        $("#modal").classList.add("is-hidden");
        $("#modalBody").innerHTML = "";
        document.body.style.overflow = "";
      }

      function openInNewTab(url){
        try{
          window.open(url, "_blank", "noopener,noreferrer");
        }catch(e){
          showAlert("ç€è¦½å™¨é˜»æ“‹äº†æ–°è¦–çª—ã€‚è«‹å…è¨±å½ˆå‡ºè¦–çª—æˆ–æ”¹ç”¨æ‰‹å‹•é–‹å•Ÿé€£çµã€‚");
        }
      }

      const AFIAS_MODELS = {
        "AFIAS 1": {
          title: "AFIAS-1ï½œCompact All-in-One Analyzer",
          body: `
            <ul>
            <li><b>å–®é€šé“</b></li>
            <li><b>åˆ†ææ¨¡å¼ï¼š</b>å¸¸è¦æ¨¡å¼ / C-Tipæ¨¡å¼</li>
            <li><b>è³‡æ–™å„²å­˜ï¼š</b>5,000ç­†</li>
            <li><b>ä»‹é¢ï¼š</b>5 å‹è§¸æ§è¢å¹•ã€å…§å»ºç†±æ„Ÿå°è¡¨æ©Ÿ</li>
            <li><b>å°ºå¯¸ï¼š</b>180.6 Ã— 320.6 Ã— 206.4 mm</li>
            <li><b>é‡é‡ï¼š</b>4.0 kg</li>
            </ul>
          `
        },
        "AFIAS 3": {
          title: "AFIAS-3ï½œMulti-Testing Analyzer",
          body: `
            <ul>
            <li><b>ä¸‰é€šé“</b></li>
            <li><b>åˆ†ææ¨¡å¼ï¼š</b>å¸¸è¦æ¨¡å¼ / C-Tipæ¨¡å¼</li>
            <li><b>è³‡æ–™å„²å­˜ï¼š</b>5,000ç­†</li>
            <li><b>ä»‹é¢ï¼š</b>7 å‹è§¸æ§è¢å¹•ã€å…§å»ºç†±æ„Ÿå°è¡¨æ©Ÿ</li>
            <li><b>å°ºå¯¸ï¼š</b>276 Ã— 365 Ã— 313 mm</li>
            <li><b>é‡é‡ï¼š</b>9.3 kg</li>
            </ul>
          `
        },
        "AFIAS 6": {
          title: "AFIAS-6ï½œVersatile Desktop Analyzer",
          body: `
            <ul>
            <li><b>å…­é€šé“</b></li>
            <li><b>åˆ†ææ¨¡å¼ï¼š</b>å¸¸è¦æ¨¡å¼ / C-Tipæ¨¡å¼</li>
            <li><b>è³‡æ–™å„²å­˜ï¼š</b>5,000ç­†</li>
            <li><b>ä»‹é¢ï¼š</b>7 å‹è§¸æ§è¢å¹•ã€å…§å»ºç†±æ„Ÿå°è¡¨æ©Ÿ</li>
            <li><b>å°ºå¯¸ï¼š</b>420 Ã— 336 Ã— 293 mm</li>
            <li><b>é‡é‡ï¼š</b>15.1 kg</li>
            </ul>
          `
        },
        "AFIAS 10": {
          title: "AFIAS-10ï½œHigh-Throughput Analyzer",
          body: `
            <ul>
            <li><b>åé€šé“</b></li>
            <li><b>åˆ†ææ¨¡å¼ï¼š</b>åŸç®¡ä¸Šæ©Ÿ / å¸¸è¦æ¨¡å¼ / C-Tipæ¨¡å¼</li>
            <li><b>è³‡æ–™å„²å­˜ï¼š</b>5,000ç­†</li>
            <li><b>ä»‹é¢ï¼š</b>10.1 å‹è§¸æ§è¢å¹•ã€å…§å»ºç†±æ„Ÿå°è¡¨æ©Ÿ</li>
            <li><b>å°ºå¯¸ï¼š</b>426 Ã— 443 Ã— 395 mm</li>
            <li><b>é‡é‡ï¼š</b>20 kg</li>
            </ul>
          `
        }
      };

      // ========= Data (Test Menu) =========
      const TEST_MENU = [
        {cat:"Cardiac", item:"hsCRP", code:"SMFP-78", sample:"W/S/P/C", time:"3 min"},
        {cat:"Cardiac", item:"D-Dimer Neo", code:"SMFP-129", sample:"W/P", time:"12 min"},
        {cat:"Cardiac", item:"Tn-I Plus", code:"SMFP-35", sample:"W/S/P", time:"12 min"},
        {cat:"Cardiac", item:"CK-MB Neo", code:"SMFP-128", sample:"W/S/P", time:"12 min"},
        {cat:"Cardiac", item:"Myoglobin Neo", code:"SMFP-127", sample:"W/S/P", time:"12 min"},
        {cat:"Cardiac", item:"Cardiac Triple", code:"SMFP-59", sample:"W/S/P", time:"12 min"},
        {cat:"Cardiac", item:"Troponin T", code:"SMFP-95", sample:"W/S/P/C", time:"12 min"},
        {cat:"Cardiac", item:"BNP", code:"SMFP-83", sample:"W/S/P/C", time:"12 min"},
        {cat:"Cardiac", item:"NT-proBNP", code:"SMFP-36", sample:"W/S/P", time:"12 min"},
        {cat:"Cardiac", item:"ST2", code:"SMFP-70", sample:"W/S/P", time:"12 min"},

        {cat:"Hormone", item:"TSH Plus", code:"SMFP-38", sample:"W/S/P/C", time:"12 min"},
        {cat:"Hormone", item:"T3", code:"SMFP-18", sample:"S/P", time:"10 min"},
        {cat:"Hormone", item:"T4", code:"SMFP-19", sample:"S/P", time:"10 min"},
        {cat:"Hormone", item:"Free T4", code:"SMFP-145", sample:"W/S/P/C", time:"12 min"},
        {cat:"Hormone", item:"FSH", code:"SMFP-5", sample:"W/S/P", time:"12 min"},
        {cat:"Hormone", item:"Î²-HCG Plus", code:"SMFP-52", sample:"W/S/P/C", time:"12 min"},
        {cat:"Hormone", item:"LH", code:"SMFP-6", sample:"W/S/P", time:"12 min"},
        {cat:"Hormone", item:"Prolactin", code:"SMFP-8", sample:"W/S/P", time:"10 min"},
        {cat:"Hormone", item:"Progesterone", code:"SMFP-94", sample:"S/P", time:"15 min"},
        {cat:"Hormone", item:"Testosterone", code:"SMFP-29", sample:"S/P", time:"15 min"},
        {cat:"Hormone", item:"Cortisol", code:"SMFP-22", sample:"W/S/P", time:"10 min"},
        {cat:"Hormone", item:"AMH", code:"SMFP-62", sample:"S/P", time:"12 min"},
        {cat:"Hormone", item:"Estradiol", code:"SMFP-184", sample:"W/S/P", time:"20 min"},
        {cat:"Hormone", item:"PTH", code:"SMFP-161", sample:"W/S/P", time:"17 min"},

        {cat:"Diabetes", item:"HbA1c Neo", code:"SMFP-109", sample:"W/C", time:"10 min"},
        {cat:"Diabetes", item:"Microalbumin", code:"SMFP-30", sample:"Urine", time:"12 min"},
        {cat:"Diabetes", item:"Insulin", code:"SMFP-174", sample:"W/S/P/C", time:"12 min"},
        {cat:"Diabetes", item:"HbA1c", code:"SMFP-28", sample:"W/C", time:"10 min"},

        {cat:"Infection", item:"CRP**", code:"SMFP-2", sample:"W/S/P/C", time:"3 min"},
        {cat:"Infection", item:"MxA/CRP", code:"SMFP-102", sample:"W/C", time:"12 min"},
        {cat:"Infection", item:"PCT**", code:"SMFP-7", sample:"W/S/P", time:"12 min"},
        {cat:"Infection", item:"PCT Plus**", code:"SMFP-32", sample:"W/S/P/C", time:"12 min"},
        {cat:"Infection", item:"IL-6", code:"SMFP-74", sample:"W/S/P/C", time:"12 min"},
        {cat:"Infection", item:"Carba 5***", code:"SMFP-182", sample:"Colony test", time:"15 min"},
        {cat:"Infection", item:"Flu A+B", code:"SMFP-68", sample:"Swab", time:"10 min"},
        {cat:"Infection", item:"RSV", code:"SMFP-126", sample:"Swab", time:"10 min"},
        {cat:"Infection", item:"COVID-19 Ab", code:"SMFP-72", sample:"W/S/P/C", time:"10 min"},
        {cat:"Infection", item:"COVID-19 Ag", code:"SMFP-71", sample:"Swab", time:"12 min"},
        {cat:"Infection", item:"COVID-19/Flu Ag Combo", code:"SMFP-77", sample:"Swab", time:"20 min"},
        {cat:"Infection", item:"COVID-19/Flu A+B/RSV Ag Combo", code:"SMFP-113", sample:"Swab", time:"20 min"},
        {cat:"Infection", item:"Strep A", code:"SMFP-177", sample:"Throat swab", time:"10 min"},
        {cat:"Infection", item:"HBsAg", code:"SMFP-15", sample:"W/S/P", time:"12 min"},
        {cat:"Infection", item:"Anti-HBs", code:"SMFP-16", sample:"W/S/P", time:"15 min"},
        {cat:"Infection", item:"Anti-HCV**", code:"SMFP-17", sample:"W/S/P", time:"12 min"},
        {cat:"Infection", item:"Dengue NS1 Ag", code:"SMFP-44", sample:"W/S/P/C", time:"12 min"},
        {cat:"Infection", item:"Dengue IgG/IgM", code:"SMFP-41", sample:"W/S/P/C", time:"12 min"},
        {cat:"Infection", item:"NORO", code:"SMFP-26", sample:"Feces", time:"12 min"},
        {cat:"Infection", item:"ROTA", code:"SMFP-25", sample:"Feces", time:"12 min"},
        {cat:"Infection", item:"Rota/Adeno", code:"SMFP-43", sample:"Feces", time:"12 min"},
        {cat:"Infection", item:"IGRA-TB", code:"SMFP-99", sample:"P", time:"15 min"},
        {cat:"Infection", item:"HIV 1/2 Ab", code:"SMFP-172", sample:"W/S/P/C", time:"10 min"},

        {cat:"Autoimmune", item:"Anti-CCP Plus", code:"SMFP-67", sample:"W/S/P/C", time:"12 min"},
        {cat:"Autoimmune", item:"Total IgE", code:"SMFP-84", sample:"W/S/P", time:"12 min"},

        {cat:"Organ Function", item:"Sphingotest penKid***", code:"SMFP-156", sample:"W/P", time:"15 min"},
        {cat:"Organ Function", item:"KL-6", code:"SMFP-155", sample:"S/P", time:"10 min"},

        {cat:"Cancer", item:"PSA Neo", code:"SMFP-130", sample:"W/S/P/C", time:"15 min"},
        {cat:"Cancer", item:"Free PSA", code:"SMFP-170", sample:"W/S/P/C", time:"12 min"},
        {cat:"Cancer", item:"AFP", code:"SMFP-27", sample:"W/S/P", time:"15 min"},
        {cat:"Cancer", item:"CEA", code:"SMFP-21", sample:"W/S/P", time:"15 min"},
        {cat:"Cancer", item:"Cyfra21-1", code:"SMFP-135", sample:"S/P", time:"12 min"},
        {cat:"Cancer", item:"CA19-9", code:"SMFP-134", sample:"S/P", time:"12 min"},
        {cat:"Cancer", item:"CA125", code:"SMFP-132", sample:"S/P", time:"12 min"},

        {cat:"Therapeutic Drug Monitoring", item:"Infliximab", code:"SMFP-75", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Adalimumab", code:"SMFP-89", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Golimumab", code:"SMFP-91", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Vedolizumab", code:"SMFP-115", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Ustekinumab", code:"SMFP-114", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Etanercept", code:"SMFP-93", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Trastuzumab", code:"SMFP-105", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Total Anti-Infliximab", code:"SMFP-76", sample:"S/P", time:"22 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Free Anti-Infliximab", code:"SMFP-86", sample:"W/S/P/C", time:"12 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Free Anti-Adalimumab", code:"SMFP-87", sample:"W/S/P/C", time:"12 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Free Anti-Golimumab", code:"SMFP-90", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Free Anti-Vedolizumab", code:"SMFP-100", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Free Anti-Ustekinumab", code:"SMFP-101", sample:"W/S/P/C", time:"12 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Free Anti-Etanercept", code:"SMFP-92", sample:"W/S/P/C", time:"10 min"},
        {cat:"Therapeutic Drug Monitoring", item:"Free Anti-Trastuzumab", code:"SMFP-96", sample:"W/S/P/C", time:"10 min"},

        {cat:"Others", item:"Ferritin", code:"SMFP-23", sample:"S/P", time:"10 min"},
        {cat:"Others", item:"Vitamin D Neo", code:"SMFP-108", sample:"W/S/P/C", time:"12 min"},
        {cat:"Others", item:"H. pylori SA", code:"SMFP-178", sample:"Feces", time:"12 min"},
        {cat:"Others", item:"Calprotectin", code:"SMFP-149", sample:"Feces", time:"10 min"},
      ];

      // ========= Tabs =========
      function setTab(name){
        $$(".nav__item").forEach(b => b.classList.toggle("is-active", b.dataset.tab === name));
        $$(".tab").forEach(p => p.classList.toggle("is-active", p.dataset.tabpanel === name));
        $("#navMenu").classList.remove("is-open");
        $("#navToggle").setAttribute("aria-expanded", "false");
        if(name === "menu") showToast("å¯æœå°‹/ç¯©é¸ Test Menu");
      }

      // ========= Render Test Menu =========
      function initCategories(){
        const cats = Array.from(new Set(TEST_MENU.map(x => x.cat)));
        const sel = $("#cat");
        cats.forEach(c => {
          const o = document.createElement("option");
          o.value = c;
          o.textContent = c;
          sel.appendChild(o);
        });
      }
      function includesCtip(sample){ return String(sample || "").includes("C"); }

      function filterData(){
        const q = ($("#q").value || "").trim().toLowerCase();
        const cat = $("#cat").value;
        const onlyC = $("#onlyCtip").checked;
        let data = TEST_MENU.slice();
        if(cat !== "all") data = data.filter(x => x.cat === cat);
        if(onlyC) data = data.filter(x => includesCtip(x.sample));
        if(q){
          data = data.filter(x => {
            const hay = `${x.cat} ${x.item} ${x.code} ${x.sample} ${x.time}`.toLowerCase();
            return hay.includes(q);
          });
        }
        return data;
      }

      function renderTable(rows){
        const tbody = $("#tbody");
        tbody.innerHTML = "";
        if(!Array.isArray(rows)){
          showAlert("è³‡æ–™æ ¼å¼ä¸æ­£ç¢ºï¼šTest Menu ä¸æ˜¯é™£åˆ—ï¼Œè«‹æª¢æŸ¥ TEST_MENUã€‚");
          return;
        }
        if(rows.length === 0){
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td colspan="5">
              <div style="padding:10px 0; font-weight:1000;">
                æŸ¥ç„¡ç¬¦åˆæ¢ä»¶çš„é …ç›®ã€‚å»ºè­°æ¸…é™¤ç¯©é¸æˆ–æ”¹ç”¨å…¶ä»–é—œéµå­—ã€‚
              </div>
            </td>
          `;
          tbody.appendChild(tr);
          $("#resultMeta").textContent = "0 ç­†çµæœ";
          return;
        }

        const frag = document.createDocumentFragment();
        rows.forEach(x => {
          const tr = document.createElement("tr");
          const ctip = includesCtip(x.sample) ? `<span class="chip">C-tip</span>` : ``;
          tr.innerHTML = `
            <td>${x.cat}</td>
            <td>${x.item}${ctip}</td>
            <td>${x.code}</td>
            <td>${x.sample}</td>
            <td>${x.time}</td>
          `;
          frag.appendChild(tr);
        });
        tbody.appendChild(frag);
        $("#resultMeta").textContent = `å…± ${rows.length} ç­†çµæœ`;
      }

      function refreshMenu(){
        if(!Array.isArray(TEST_MENU) || TEST_MENU.length === 0){
          showAlert("ç¼ºå°‘ Test Menu è³‡æ–™ï¼ˆTEST_MENUï¼‰ã€‚è«‹ç¢ºèªå·²è²¼ä¸Šé™„ä»¶è¡¨å–®å…§å®¹ã€‚");
          renderTable([]);
          return;
        }
        hideAlert();
        renderTable(filterData());
      }

      // ========= Modals =========
      function openTdmWhenModal(){
        openModal("ä½•æ™‚åŸ·è¡Œ TDM", `
          <div style="margin-bottom:12px;">
            <div style="font-weight:1000; margin-bottom:6px;">Proactive TDM</div>
            <ul class="keypoints">
              <li>èª˜å°ç·©è§£ï¼ˆ<b>Induction Therapy</b>ï¼‰æœŸé–“ï¼Œæˆ–åœ¨ Induction ç™‚ç¨‹çµæŸå‰ï¼Œç›£æ§æ‰€æœ‰ç—…æ‚£çš„è—¥ç‰©æ¿ƒåº¦å’ŒæŠ—è—¥æŠ—é«”ã€‚</li>
              <li>é”åˆ°ç¶­æŒæ²»ç™‚ï¼ˆ<b>Maintenance Therapy</b>ï¼‰æ™‚ï¼Œè‡³å°‘ç›£æ§ä¸€æ¬¡è—¥ç‰©æ¿ƒåº¦å’ŒæŠ—è—¥æŠ—é«”ï¼Œç¢ºä¿ç”¨è—¥æœ‰æ•ˆæ€§ï¼Œæœ‰åŠ©æ–¼é™ä½ <b>28 ~ 34%</b> ä¹‹é†«ç™‚ç…§è­·æˆæœ¬ã€‚</li>
            </ul>
          </div>

          <div style="margin-bottom:12px;">
            <div style="font-weight:1000; margin-bottom:6px;">Reactive TDM</div>
            <div style="opacity:.95;">
              å®Œæˆèª˜å°ç·©è§£æ²»ç™‚å¾Œï¼Œæˆ–é”åˆ°çºŒç”¨è©•ä¼°æ™‚æ©Ÿæ™‚ï¼Œç™¼ç¾ç—…æ‚£æœªé”åˆ°é æœŸç™‚æ•ˆï¼ˆç„¡åæ‡‰ / <b>nonresponse</b>ã€æ²»ç™‚å¾Œå¤±å»åæ‡‰ / <b>loss of response</b> æˆ– è—¥ç‰©ä¸è€å— / <b>drug intolerant</b>ï¼‰æ™‚ï¼Œå»ºè­°è—‰ TDM èª¿æ•´æ²»ç™‚ç­–ç•¥ã€‚
            </div>
          </div>

          <div class="refbox" aria-label="Reference">
            <p class="refbox__title">Reference</p>
            <ol>
              <li>J Crohns Colitis. 2019 Aug 14;13(8):976-981. doi: 10.1093/ecco-jcc/jjz018.</li>
              <li>Khan A et al. New Zealand Society of Gastroenterology Guidelines on Therapeutic Drug Monitoring in Inflammatory Bowel Disease. N Z Med J. 2019 Mar 8;132(1491):46-62.</li>
              <li>Maaser C. et al. ECCO-ESGAR Guideline for Diagnostic Assessment in IBD Part 1: Initial diagnosis, monitoring of known IBD, detection of complications. Journal of Crohnâ€™s and Colitis, 2018, 1â€“32.</li>
              <li>Martelli L, Olivera P, Roblin X, Attar A, Peyrin-Biroulet L. Cost-effectiveness of drug monitoring of anti-TNF therapy in inflammatory bowel disease and rheumatoid arthritis: a systematic review. J Gastroenterol. 2017 Jan;52(1):19-25.</li>
            </ol>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn btn--primary" id="btnGoTdmMenuFromWhen">æŸ¥çœ‹ TDM é …ç›®</button>
          </div>
        `);

        window.setTimeout(() => {
          const btn = $("#btnGoTdmMenuFromWhen");
          if(btn){
            btn.addEventListener("click", () => {
              closeModal();
              setTab("menu");
              $("#cat").value = "Therapeutic Drug Monitoring";
              $("#q").value = "";
              $("#onlyCtip").checked = false;
              refreshMenu();
              showToast("å·²åˆ‡åˆ° TDM åˆ†é¡");
            });
          }
        }, 0);
      }

      function openTdmStrategyModal(){
        const isMobile = window.matchMedia("(max-width: 720px)").matches;

        const imgOnly = isMobile
          ? `
            <div class="tdmgrid" aria-label="TDM æ±ºç­–åœ–ï¼ˆæ‰‹æ©Ÿåˆ†æ®µï¼‰">
              <img class="tdmimg" src="TDM_p6_mobile_top.png" alt="TDM æ±ºç­–åœ–ï¼ˆä¸ŠåŠéƒ¨ï¼‰" loading="lazy" />
              <img class="tdmimg" src="TDM_p6_mobile_bottom.png" alt="TDM æ±ºç­–åœ–ï¼ˆä¸‹åŠéƒ¨ï¼‰" loading="lazy" />
            </div>
          `
          : `
            <div class="tdmgrid" aria-label="TDM æ±ºç­–åœ–ï¼ˆæ•´é ï¼‰">
              <img class="tdmimg" src="TDM_p6_web.png" alt="TDM æ±ºç­–åœ–ï¼ˆæ•´é ï¼‰" loading="lazy" />
            </div>
          `;

        openModal("æŸ¥çœ‹TDMæ±ºç­–åœ–", imgOnly);
      }

      // ========= Interactions =========
      function bind(){
        // Tabs
        $$(".nav__item").forEach(btn => btn.addEventListener("click", () => setTab(btn.dataset.tab)));

        // Mobile nav
        $("#navToggle").addEventListener("click", () => {
          const menu = $("#navMenu");
          const isOpen = menu.classList.toggle("is-open");
          $("#navToggle").setAttribute("aria-expanded", String(isOpen));
        });

        // Quick menu
        $("#btnQuickMenu").addEventListener("click", () => setTab("menu"));

        // Open poster (A4)
        $("#btnOpenPoster").addEventListener("click", () => {
          openModal("AFIAS A4 ä¸»è¦–è¦º", `
            <div class="poster">
              <img src="afias_a4_cn.png" alt="AFIAS A4 ä¸­æ–‡å–®é¢ä¸»è¦–è¦ºï¼ˆè«‹æ”¾åœ¨åŒè³‡æ–™å¤¾ï¼‰" />
            </div>
             `);
        });

        // Model cards
        $$(".modelcard").forEach(c => {
          c.addEventListener("click", () => {
            const model = c.dataset.model;
            if (!AFIAS_MODELS[model]) return openModal(model, "<p>å°šæœªå®šç¾©æ­¤æ©Ÿå‹çš„è©³ç´°è¦æ ¼ã€‚</p>");
            openModal(AFIAS_MODELS[model].title, AFIAS_MODELS[model].body);
          });
        });

        // Copy phone
        $$(".pill[data-copy]").forEach(p => {
          p.addEventListener("click", async () => {
            const v = p.dataset.copy || "";
            try{
              await navigator.clipboard.writeText(v);
              showToast(`å·²è¤‡è£½ï¼š${v}`);
            }catch(e){
              showAlert("ç„¡æ³•ä½¿ç”¨å‰ªè²¼ç°¿ï¼ˆå¯èƒ½è¢«ç€è¦½å™¨é˜»æ“‹ï¼‰ã€‚ä½ ä»å¯æ‰‹å‹•é¸å–é›»è©±ã€‚");
            }
          });
        });

        // Menu controls
        ["q","cat","onlyCtip"].forEach(id => {
          $("#"+id).addEventListener("input", refreshMenu);
          $("#"+id).addEventListener("change", refreshMenu);
        });
        $("#btnReset").addEventListener("click", () => {
          $("#q").value = "";
          $("#cat").value = "all";
          $("#onlyCtip").checked = false;
          refreshMenu();
          showToast("å·²é‡è¨­ç¯©é¸æ¢ä»¶");
        });

        // TDM jump button in callout
        $("#btnJumpTdmItems2").addEventListener("click", () => {
          setTab("menu");
          $("#cat").value = "Therapeutic Drug Monitoring";
          $("#q").value = "";
          $("#onlyCtip").checked = false;
          refreshMenu();
          showToast("å·²åˆ‡åˆ° TDM åˆ†é¡");
        });

        // Modal close
        $("#modal").addEventListener("click", (e) => {
          if(e.target && e.target.dataset && e.target.dataset.close) closeModal();
        });
        window.addEventListener("keydown", (e) => {
          if(e.key === "Escape") closeModal();
        });

        // âœ… æ‰‹æ©Ÿï¼šåœ¨ Modal å…§å®¹å€ä¸‹æ»‘å³å¯é—œé–‰ï¼ˆé¿å…æ‰¾ä¸åˆ° Xï¼‰
        (function enableSwipeToClose(){
          const panel = $("#modal").querySelector(".modal__panel");
          if(!panel) return;
          let y0 = null, t0 = 0;

          panel.addEventListener("touchstart", (ev) => {
            if($("#modal").classList.contains("is-hidden")) return;
            y0 = ev.touches && ev.touches[0] ? ev.touches[0].clientY : null;
            t0 = Date.now();
          }, {passive:true});

          panel.addEventListener("touchmove", (ev) => {
            if(y0 == null) return;
            const y = ev.touches && ev.touches[0] ? ev.touches[0].clientY : null;
            if(y == null) return;
            const dy = y - y0;
            // å¾€ä¸‹æ»‘è¶…é 90px ä¸”é€Ÿåº¦å¤ å¿« â†’ é—œé–‰
            if(dy > 90 && (Date.now() - t0) < 600){
              y0 = null;
              closeModal();
            }
          }, {passive:true});

          panel.addEventListener("touchend", () => { y0 = null; }, {passive:true});
        })();


        // Alert close
        $("#alertClose").addEventListener("click", hideAlert);

        // ===== TDM modals =====
        $$("[data-modal='tdm-why']").forEach(b => {
          b.addEventListener("click", () => {
            openModal("ç‚ºä»€éº¼è¦åš TDMï¼Ÿ", `
              <div style="margin-bottom:10px;">
                <div style="font-weight:1000; margin-bottom:6px;">é™¤äº†æ›è—¥ï¼Œæœ‰æ›´å¥½çš„é¸æ“‡ï¼</div>
                <ul style="margin:0; padding-left:18px;">
                  <li><b>é€éè—¥ç‰©æ²»ç™‚ç›£æ§ï¼ˆtherapeutic drug monitoringï¼ŒTDMï¼‰ï¼Œæ¸¬å®šæ‚£è€…é«”å…§çš„<b>è—¥ç‰©æ¿ƒåº¦</b>èˆ‡<b>æŠ—è—¥ç‰©æŠ—é«”</b>ï¼Œå¯è©•ä¼°æ‚£è€…ä¹‹è—¥ç‰©æš´éœ²ï¼Œé æ¸¬è‡¨åºŠåæ‡‰ï¼Œä¸¦ä»¥æ­¤åˆ¶å®šåˆé©çš„å€‹äººåŒ–æ²»ç™‚æ–¹æ¡ˆ</li>
                </ul>
              </div>
              <div class="tdmgrid">
                <img class="tdmimg" src="tdm_page_4.png" alt="TDM é†«å¸«ä»‹ç´¹ p.4" loading="lazy" />
                <img class="tdmimg" src="tdm_page_5.png" alt="TDM é†«å¸«ä»‹ç´¹ p.5" loading="lazy" />
              </div>
            `);
          });
        });

        $$("[data-modal='tdm-when']").forEach(b => b.addEventListener("click", openTdmWhenModal));
        $$("[data-modal='tdm-strategy']").forEach(b => b.addEventListener("click", openTdmStrategyModal));

        // âœ… ç”¢å“ç‰¹è‰²ä¸‰æ–¹å¡Šï¼šä¾éœ€æ±‚æ”¹é€£çµè¡Œç‚º
        const YT_WORKFLOW = "https://youtube.com/clip/Ugkx7CBjjboOx_l4xwYQWKDT7tkfBqJ13ACe?si=MklRvtdnlnttxC9K";
        const YT_CTIP     = "https://youtube.com/clip/UgkxvGMe1X9K-FSpWhMd0_1lkQaeFqCE7Pfx?si=BEMMbYEcW3FCzydu";

        // ã€Œçœ‹æª¢é©—é …ç›®ã€ï¼šåˆ‡åˆ° Test Menu
        $("#btnToFlow").addEventListener("click", () => {
          setTab("menu");
          window.scrollTo({ top: 0, behavior: "smooth" });
        });

        // ã€Œçœ‹æ“ä½œæµç¨‹ã€â†’ YouTube clip
        $("#btnOpenWorkflowVideo").addEventListener("click", () => openInNewTab(YT_WORKFLOW));

        // ã€ŒC-tipæ“ä½œæµç¨‹ã€â†’ YouTube clip
        $("#btnOpenCTipVideo").addEventListener("click", () => openInNewTab(YT_CTIP));

        // ï¼ˆé¿å…æ‰‹æ©Ÿä¸Šèª¤è§¸å¾Œé¸å–®è“‹ä½ç•«é¢ï¼‰é»æ“Šç©ºç™½è™•è‡ªå‹•æ”¶èµ·é¸å–®
        document.addEventListener("click", (e) => {
          const menu = $("#navMenu");
          const toggle = $("#navToggle");
          if(!menu.classList.contains("is-open")) return;
          if(menu.contains(e.target) || toggle.contains(e.target)) return;
          menu.classList.remove("is-open");
          toggle.setAttribute("aria-expanded", "false");
        });

      }

      // ========= Boot =========
      function boot(){
        try{
          initCategories();
          refreshMenu();
          bind();

          // âœ… æ‰‹æ©Ÿï¼šé è¨­æ”¶åˆ Hero çš„ã€Œäº®é»/æ©Ÿå‹ã€ï¼Œæ¸›å°‘é¦–å±é«˜åº¦
          if(window.matchMedia("(max-width: 720px)").matches){
            $$("details.hero__more, details.hero__modelsPanel").forEach(d => d.open = false);
          }
        }catch(err){
          console.error(err);
          showAlert("åˆå§‹åŒ–å¤±æ•—ï¼šè«‹æª¢æŸ¥æ˜¯å¦æœ‰æ¼è²¼ HTML/CSS/JS ä»»ä¸€æ®µã€‚");
        }
      }

      document.addEventListener("DOMContentLoaded", boot);
    </script>
  </body>
</html>
